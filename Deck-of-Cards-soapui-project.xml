<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="a6d34224-9445-4c23-8076-b10bd06c63e2" activeEnvironment="Default" name="Deck of Cards" resourceRoot="" soapui-version="5.7.2" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="29baecd9-3b51-4206-b9e3-4a7cd17b0e01" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://deckofcardsapi.com" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://deckofcardsapi.com</con:endpoint></con:endpoints><con:resource name="shuffle (select deck)" path="/api/deck/new/shuffle" id="1e5ef7db-86fb-43b2-b819-7ea6cb660146"><con:settings/><con:parameters><con:parameter><con:name>deck_count</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="shuffle" id="7d610ee7-a7ed-48a8-ac92-a40f808a1af9" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:shuf="https://deckofcardsapi.com/api/deck/new/shuffle/">shuf:Response</con:element></con:representation><con:request name="select 1 deck" id="1e3a9233-aa92-45ca-9e7b-1257719de478" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://deckofcardsapi.com</con:endpoint><con:request/><con:originalUri>https://deckofcardsapi.com/api/deck/new/shuffle/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>deck_count</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="draw a card" path="/api/deck/{deck_id}/draw" id="d1ea7261-a4a5-4009-ae7c-042493c5666a"><con:settings/><con:parameters><con:parameter><con:name>deck_id</con:name><con:style>TEMPLATE</con:style></con:parameter><con:parameter><con:name>count</con:name><con:style>QUERY</con:style></con:parameter></con:parameters><con:method name="draw a card(s) from deck_id" id="c911a039-68c0-4a63-bd29-25b767c48f68" method="GET"><con:settings/><con:parameters><con:parameter><con:name/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name/><con:style>QUERY</con:style></con:parameter></con:parameters><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:draw="https://deckofcardsapi.com/api/deck/oea426znqykf/draw/">draw:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:draw="https://deckofcardsapi.com/api/deck/oea426znqykf/draw/">draw:Fault</con:element></con:representation><con:request name="2 card from deck_id" id="d0660f59-90b1-4d14-b611-c8aed0646d8d" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://deckofcardsapi.com</con:endpoint><con:request/><con:originalUri>https://deckofcardsapi.com/api/deck/oea426znqykf/draw/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="count" value="2"/>
  <con:entry key="deck_id" value="t9uwsa6b5bsc"/>
</con:parameters><con:parameterOrder><con:entry>deck_id</con:entry><con:entry/></con:parameterOrder></con:request></con:method></con:resource><con:resource name="add to pile" path="/api/deck/{deck_id}/pile/{pile_name}/add" id="2a305afc-a350-4cba-898a-1b69c9ee2546"><con:settings/><con:parameters><con:parameter><con:name>deck_id</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/></con:parameter><con:parameter><con:name>pile_name</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/></con:parameter><con:parameter><con:name>cards</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="add drawn cards to new pile" id="e649fa21-7f69-4012-92c1-e135717c067a" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:add="https://deckofcardsapi.com/api/deck/qmqem1htq5wz/pile/AS,2S/add">add:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:add="https://deckofcardsapi.com/api/deck/qmqem1htq5wz/pile/AS,2S/add">add:Response</con:element></con:representation><con:request name="add 2C, 6S to 'discard'" id="2c94fcc7-514a-4ccf-bcbb-dffa9767e5eb" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://deckofcardsapi.com</con:endpoint><con:request/><con:originalUri>https://deckofcardsapi.com/api/deck/qmqem1htq5wz/pile/AS,2S/add</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="cards" value="2C,6S"/>
  <con:entry key="deck_id" value="t9uwsa6b5bsc"/>
  <con:entry key="pile_name" value="discard"/>
</con:parameters><con:parameterOrder><con:entry>deck_id</con:entry><con:entry>pile_name</con:entry><con:entry>cards</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="list cards in pile" path="/api/deck/{deck_id}/pile/{pile_name}/list/" id="cc6fa8cd-528a-4412-a412-c0ebd3241c98"><con:settings/><con:parameters><con:parameter><con:name>deck_id</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>pile_name</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="list cards in 'discard' from deck_id" id="87ec6490-727a-42cf-b557-d2774440214b" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:list="https://deckofcardsapi.com/api/deck/1p78r2tloy9f/pile/discard/list/">list:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>500</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="list cards in pile 'discard'" id="10b9d208-8731-4acf-be0a-1dc61b49d2a3" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://deckofcardsapi.com</con:endpoint><con:request/><con:originalUri>https://deckofcardsapi.com/api/deck/1p78r2tloy9f/pile/discard/list/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="deck_id" value="t9uwsa6b5bsc"/>
  <con:entry key="pile_name" value="discard"/>
</con:parameters><con:parameterOrder><con:entry>deck_id</con:entry><con:entry>pile_name</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="re-shuffle" path="/api/deck/{deck_id}/shuffle/" id="cbd165fb-de93-4861-a509-962edaca687c"><con:settings/><con:parameters><con:parameter><con:name>deck_id</con:name><con:style>TEMPLATE</con:style></con:parameter></con:parameters><con:method name="re-shuffle cards in deck_id" id="42dc4186-aa3a-4eef-b20d-51bb37660a51" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:shuf="https://deckofcardsapi.com/api/deck/new/shuffle/">shuf:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:shuf="https://deckofcardsapi.com/api/deck/t9uwsa6b5bsc/shuffle/">shuf:Fault</con:element></con:representation><con:request name="re-shuffle cards in deck_id" id="50011f5e-5b05-4dbd-8543-2cb41c043ebd" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://deckofcardsapi.com</con:endpoint><con:request/><con:originalUri>https://deckofcardsapi.com/api/deck/t9uwsa6b5bsc/shuffle/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="deck_id" value="t9uwsa6b5bsc" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>deck_id</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="2623f2ab-5202-4b75-8b00-2328972eba34" name="TestSuite 1"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="02385b79-71a9-419d-8296-124c7b25ab23" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestCase 1" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="shuffle" id="f4765d2b-c85f-4b80-8c1b-64386350567c"><con:settings/><con:config service="http://deckofcardsapi.com" resourcePath="/api/deck/new/shuffle" methodName="shuffle" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="shuffle" id="1e3a9233-aa92-45ca-9e7b-1257719de478" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://deckofcardsapi.com</con:endpoint><con:request/><con:originalUri>https://deckofcardsapi.com/api/deck/new/shuffle/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>deck_count</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="deck id" id="645af4b8-44b7-402c-90b0-0b6438135cca"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>deck_id</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>shuffle</con:sourceStep><con:sourcePath>deck_id</con:sourcePath><con:targetType>deck_id</con:targetType><con:targetStep>Properties</con:targetStep><con:targetPath xsi:nil="true"/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="draw 2 cards" id="c1f77711-4f7a-45e9-b0cb-2d60f3c30034"><con:settings/><con:config service="http://deckofcardsapi.com" resourcePath="/api/deck/{deck_id}/draw" methodName="draw a card(s) from deck_id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="draw" id="d0660f59-90b1-4d14-b611-c8aed0646d8d" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://deckofcardsapi.com</con:endpoint><con:request/><con:originalUri>https://deckofcardsapi.com/api/deck/oea426znqykf/draw/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="count" value="2"/>
  <con:entry key="deck_id" value="${Properties#deck_id}"/>
</con:parameters><con:parameterOrder><con:entry>deck_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="drawn cards" id="0760c163-bd3e-4311-8f43-46ebca866935"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>drawn card 1</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>draw 2 cards</con:sourceStep><con:sourcePath>cards[0].code</con:sourcePath><con:targetType>drawn_card_1</con:targetType><con:targetStep>Properties</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>drawn card 2</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>draw 2 cards</con:sourceStep><con:sourcePath>cards[1].code</con:sourcePath><con:targetType>drawn_card_2</con:targetType><con:targetStep>Properties</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="add drawn cards to 'discard' pile" id="3e5addf8-ed37-4ba2-bd01-af24ebb89c59"><con:settings/><con:config service="http://deckofcardsapi.com" resourcePath="/api/deck/{deck_id}/pile/{pile_name}/add" methodName="add drawn cards to new pile" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="add to discard" id="2c94fcc7-514a-4ccf-bcbb-dffa9767e5eb" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://deckofcardsapi.com</con:endpoint><con:request/><con:originalUri>https://deckofcardsapi.com/api/deck/qmqem1htq5wz/pile/AS,2S/add</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="cards" value="${Properties#drawn_card_1},${Properties#drawn_card_2}"/>
  <con:entry key="deck_id" value="${Properties#deck_id}"/>
  <con:entry key="pile_name" value="discard"/>
</con:parameters><con:parameterOrder><con:entry>deck_id</con:entry><con:entry>pile_name</con:entry><con:entry>cards</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="list 'discard'" id="3c7f37bb-ea09-44cb-b4ef-8475cb09ba4f"><con:settings/><con:config service="http://deckofcardsapi.com" resourcePath="/api/deck/{deck_id}/pile/{pile_name}/list/" methodName="list cards in 'discard' from deck_id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="list discard" id="10b9d208-8731-4acf-be0a-1dc61b49d2a3" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://deckofcardsapi.com</con:endpoint><con:request/><con:originalUri>https://deckofcardsapi.com/api/deck/1p78r2tloy9f/pile/discard/list/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8166a9be-1194-4db4-8930-3cbd1953c4c9" name="Valid HTTP Status Codes"><con:configuration><codes>200, 201</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="8a69e8fc-675c-4ba1-a4e5-a0ee29d78ca4" name="Contains"><con:configuration><token>discard</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="f5b904c8-4893-4de1-b397-fdf077777d59" name="JsonPath Existence Match"><con:configuration><path>$.success</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Count" id="6aa9344e-98b4-44f9-be4c-c1fae4673789" name="JsonPath Count"><con:configuration><path>deck_id</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Response SLA Assertion" id="4600a69a-ee54-4655-a6b7-91107826e557" name="Response SLA"><con:configuration><SLA>200</SLA></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="a4e2d2bd-6c20-4fce-af9b-45300094ee25" name="Script Assertion"><con:configuration><scriptText>def response_string = messageExchange.responseContent
def response_json = new groovy.json.JsonSlurper().parseText(response_string)

def remaining = response_json.remaining

if (49 &lt; remaining &amp; remaining &lt; 51){
	assert true
}
else{
	log.info("Incorrect number of remianing cards")
	assert false
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="deck_id" value="${Properties#deck_id}"/>
  <con:entry key="pile_name" value="discard"/>
</con:parameters><con:parameterOrder><con:entry>deck_id</con:entry><con:entry>pile_name</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="properties" name="Properties" id="72adb4b6-bf2a-46da-8aea-a79c4cedc9cd"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>deck_id</con:name><con:value>j0dy47hn72vi</con:value></con:property><con:property><con:name>drawn_card_1</con:name><con:value>0D</con:value></con:property><con:property><con:name>drawn_card_2</con:name><con:value>9C</con:value></con:property></con:properties></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>